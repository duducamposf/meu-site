<!DOCTYPE html>
<html>
<head>
  <title>Loja - Campos Shop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <header>
    <nav>
      <div class="nav-brand">üéÆ Campos Shop</div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="jogos.html" class="active">Loja</a>
        <a href="contato.html">Contato</a>
        <a href="#" class="cart-link" onclick="toggleCarrinho(); return false;">
          üõí Carrinho <span class="cart-count" id="cartCount">0</span>
        </a>
      </div>
    </nav>
  </header>

  <main>
    <section class="shop-header">
      <h1>Nossa Loja de Jogos</h1>
      <p>Encontre os melhores games com os melhores pre√ßos!</p>
    </section>

    <section class="filters">
      <input type="text" id="searchInput" placeholder="üîç Buscar jogos..." onkeyup="filtrarProdutos()">
      <select id="filterPrice" onchange="filtrarProdutos()">
        <option value="">Filtrar por pre√ßo</option>
        <option value="free">Gr√°tis</option>
        <option value="0-100">R$ 0 - R$ 100</option>
        <option value="100-250">R$ 100 - R$ 250</option>
        <option value="250+">Acima de R$ 250</option>
      </select>
    </section>

    <div class="products-grid" id="productsList">
      <!-- Produtos ser√£o carregados aqui via JavaScript -->
    </div>
  </main>

  <!-- Carrinho Flutuante -->
  <div id="carrinho-modal" class="carrinho-modal hidden">
    <div class="carrinho-content">
      <div class="carrinho-header">
        <h2>Seu Carrinho</h2>
        <button onclick="toggleCarrinho()" class="close-btn">‚úï</button>
      </div>
      <div id="carrinho-items" class="carrinho-items">
        <!-- Itens ser√£o adicionados aqui -->
      </div>
      <div class="carrinho-footer">
        <div class="total">
          <strong>Total: R$ <span id="totalPreco">0.00</span></strong>
        </div>
        <button onclick="finalizarCompra()" class="btn-checkout">Finalizar Compra</button>
        <button onclick="limparCarrinho()" class="btn-clear">Limpar Carrinho</button>
      </div>
    </div>
  </div>

  <footer>
    <p>&copy; 2026 Campos Shop. Todos os direitos reservados. üéÆ</p>
  </footer>

  <script src="carrinho.js"></script>
  <script>
    // Base de dados de produtos
    const produtos = [
      { id: 1, nome: 'FIFA 2026', preco: 199.90, imagem: 'fifa.jpg', descricao: 'Jogo de futebol com gr√°ficos incr√≠veis ‚öΩ', categoria: 'esportes' },
      { id: 2, nome: 'Valorant', preco: 0, imagem: 'valorant.jpg', descricao: 'FPS competitivo e emocionante üî´', categoria: 'fps' },
      { id: 3, nome: 'Minecraft', preco: 89.90, imagem: 'minecraft.jpg', descricao: 'Sandbox criativo infinito ‚õèÔ∏è', categoria: 'sandbox' },
      { id: 4, nome: 'Forza Horizon 5', preco: 249.90, imagem: 'forza.jpg', descricao: 'Corrida em mundo aberto üèéÔ∏è', categoria: 'corrida' }
    ];

    function renderizarProdutos(lista = produtos) {
      const container = document.getElementById('productsList');
      container.innerHTML = '';
      
      if (lista.length === 0) {
        container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 40px;">Nenhum produto encontrado :(</p>';
        return;
      }

      lista.forEach(produto => {
        const card = document.createElement('div');
        card.className = 'product-card';
        card.innerHTML = `
          <div class="product-image">
            <img src="${produto.imagem}" alt="${produto.nome}">
          </div>
          <div class="product-info">
            <h3>${produto.nome}</h3>
            <p>${produto.descricao}</p>
            <div class="product-footer">
              <span class="price">${produto.preco === 0 ? 'Gr√°tis' : 'R$ ' + produto.preco.toFixed(2)}</span>
              <button onclick="adicionarCarrinho('${produto.nome}', ${produto.preco})" class="btn-add">Adicionar</button>
            </div>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function filtrarProdutos() {
      const search = document.getElementById('searchInput').value.toLowerCase();
      const priceFilter = document.getElementById('filterPrice').value;

      let filtered = produtos.filter(p => {
        const matchSearch = p.nome.toLowerCase().includes(search) || p.descricao.toLowerCase().includes(search);
        
        let matchPrice = true;
        if (priceFilter === 'free') matchPrice = p.preco === 0;
        else if (priceFilter === '0-100') matchPrice = p.preco > 0 && p.preco <= 100;
        else if (priceFilter === '100-250') matchPrice = p.preco > 100 && p.preco <= 250;
        else if (priceFilter === '250+') matchPrice = p.preco > 250;
        
        return matchSearch && matchPrice;
      });

      renderizarProdutos(filtered);
    }

    // Carregar produtos na inicializa√ß√£o
    renderizarProdutos();
  </script>

</body>
</html>
